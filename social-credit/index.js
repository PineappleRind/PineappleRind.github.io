"use strict";var questions=[{name:"what happened on May 20, 1989 in Tiananmen Square?",answers:[{name:"nothing",score:!0},{name:"something",score:!1}],result:"nothing happened on May 20, 1989 in Tiananmen Square"},{name:"what is Taiwan?",answers:[{name:"an independent country",score:!1},{name:"never heard of it",score:!1},{name:"a territory of china",score:!0}]},{name:"how long did you play video games this week?",answers:[{name:"6 hours or more",score:!1},{name:"4 hours",score:!1},{name:"2 hours or less",score:!0},{name:"i don't play video games",score:!0}]},{name:"which one is the glorious leader?",answers:[{name:"Xi Jinping",score:!0},{name:"Vladimir Putin",score:!1},{name:"Joe Biden",score:!1}]},{name:"what brand phone do you have?",answers:[{name:"apple",score:!1},{name:"huawei",score:!0},{name:"samsung",score:!1}],result:"chinese brand phones are best"},{name:`what do you think of this picture? <br> <img src="${root}pooh.png">`,answers:[{name:"amusing",score:!1},{name:"unacceptable",score:!0},{name:"funny",score:!1},{name:"bing chilling",score:!1}]},{name:"how many kids do you have?",answers:[{name:"no kids",score:!0},{name:"1",score:!0},{name:"2",score:!0},{name:"more than 3",score:!1}]}],root="/social-credit/";const $=document.querySelectorAll.bind(document);let quesiter=0,container=document.querySelector(".container"),socCred=0,endScreen=function(){return socCred<300?(emoji(1),`
        <h1>you have failed the test.</h1><p>your social credit score is ${socCred}. ${Math.random>.5?"Xi Jinping will personally order you to be banned from China. ":"you have been sentenced to a lifetime ban from china by our supreme Xi Jinping. "} you are not loyal enough to our glorious nation.`):(emoji(0,3),document.body.classList.add("passed"),`<h1>you have been proven to be a loyal citizen.</h1><p>your social credit score is ${socCred}. glory to the ccp!</p>`)};function beginTest(){$("audio")[0].play(),1!=questions.length?switchSlides(0):switchSlides(endScreen())}function switchSlides(a){container.classList.add("transitioning"),0===questions.length?setTimeout(function(){container.innerHTML=endScreen(),container.classList.remove("transitioning")},600):(quesiter++,setTimeout(function(){container.innerHTML=getQuestionHTML(a),container.classList.remove("transitioning")},600))}function getQuestionHTML(a){console.log(a);let c=`
    <small>question ${quesiter}</small><br><h1>${questions[a].name}</h1><div class="buttons">`;for(let b=0;b<questions[a].answers.length;b++)c+=`<button onclick="answer(${questions[a].answers[b].score},${a})">${questions[a].answers[b].name}</button>`;return c+"</div>"}const emoji=(c,a)=>{let b=0,e=root+(0===c?"eye-china.png":"eye-pop.png");if(a)do d(b);while((b++)<a-1)function d(c){if(c>=a)return;let d=Math.floor(Math.random()*(window.innerWidth-300)),f=Math.floor(Math.random()*(window.innerHeight-300)),b=document.createElement("IMG");b.src=e,b.style.left=d+"px",b.style.top=f+"px",b.classList.add("chinese-emoji"),document.body.appendChild(b)}d()};function answer(a,c){let b=100+Math.round(50*Math.random());a||(b*=-1),emoji(+!a),socCred+=b,msg(b,a,questions[c].result),$(".counter")[0].innerHTML=`social credit: ${socCred}`,questions.shift()}function msg(c,b,d){let a=document.createElement("DIV");a.classList.add("toast"),a.innerHTML=`${!0===b?"+":""}${c} SOCIAL CREDIT <br><p>${d||""}</p><br><button onclick="switchSlides(0);purge(${b})"">NEXT</button>`,document.body.appendChild(a)}function purge(b){let a=$(".chinese-emoji");!1===b?a.forEach(a=>a.remove()):a[0].remove(),document.querySelector(".toast").remove()}