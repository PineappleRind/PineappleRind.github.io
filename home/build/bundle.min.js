!function(){"use strict";var e,t=function(t,r,o,c){return new(o=o||Promise)(function(i,e){function s(t){try{a(c.next(t))}catch(t){e(t)}}function n(t){try{a(c.throw(t))}catch(t){e(t)}}function a(t){var e;t.done?i(t.value):((e=t.value)instanceof o?e:new o(function(t){t(e)})).then(s,n)}a((c=c.apply(t,r||[])).next())})};var i=window.location.hash.substring(1);const n=document.querySelector.bind(document);var s=t=>document.querySelectorAll(t);function o(t,e,i){let s=document.createElement(t);return e&&e.split(";").forEach(t=>{t&&(t=t.split(/(?!\\)\=/gm),s.setAttribute(t[0].trim().replace("\\",""),t[1].trim().replace("\\","")))}),s.innerHTML=i||"",s}class a{constructor(t){this.getDirection=(t,e)=>this.types.indexOf(t)<this.types.indexOf(e)?1:-1,this.container=t,this.showing="site",this.types=["site","music","other"],this.directionMap={1:"right","-1":"left"}}requestSwitch(e,i){return t(this,void 0,void 0,function*(){if(this.showing===i||!this.types.includes(i))return 1;var t=this.showing;yield this.switchToPane(n(`.projects[data-type=${t}]`),e,i)})}switchToPane(e,i,s){return t(this,void 0,void 0,function*(){var t=this.getDirection(this.showing,s);this.showing=s,n(`.projects[data-type=${e.dataset.type}]`).classList.add("going-"+this.directionMap[-t]),i.classList.add("coming-"+this.directionMap[t]),this.container.append(i),yield new Promise(t=>setTimeout(t,10)),i.classList.remove("coming-"+this.directionMap[t]),yield new Promise(t=>setTimeout(t,600)),n(`.projects[data-type=${e.dataset.type}]`).remove()})}}let r=new class{constructor(t){this.generate={project(t){var{name:e,img:i,type:s,link:n,description:a=""}=t,n=this.generate.container(s,n),r=o("div"),s=o("h1","data-type="+s,e),e=this.generate.image(e,i),i=[o("p",null,a)];return t.metadata&&i.push(...this.generate.musicMetadata(t.metadata)),r.append(s,...i),n.append(e,r),n},container(t,e){t=o("a","class=project project-type-"+t);return e&&(t.href=e,t.setAttribute("target","_blank")),t},image(t,e){var i,s;return e?(i=o("picture"),s=o("source",`srcset=${e}.webp;type=image/webp`),t=o("img",`alt=${t} image;src=${e}.png`),i.append(s,t),i):""},musicMetadata(t){var e=[];for(const s in t){var i=o("p","class=music-sub "+s,t[s]);"time"===s?i.textContent+=" minutes":"tracks"===s&&(1===t[s]?i.textContent="single":i.textContent+=" tracks"),e.push(i)}return e}},this.projects=t,this.container=n(".projects-wrap"),this.animator=new a(this.container)}getCardsForPane(t){var e,i,s,n=[];for(const a of this.projects)a.type===t&&(e=this.generate.project.apply(this,[a]),n.push(e));return"music"===t&&n.push((i=document.createElement("a"),(s=document.createElement("div")).classList.add("more-music-link-container"),i.classList.add("more-music-link"),i.onfocus=u,i.onblur=()=>{p=!1,h()},i.innerHTML="More music...",i.setAttribute("tabindex","0"),s.append(i),s)),n}newBlock(t){var e=o("div","class=projects;data-type="+t);for(const i of this.getCardsForPane(t))e.append(i);return e}load(t){t=this.newBlock(t);this.previousBlock=t,this.container.append(t)}switch(e){return t(this,void 0,void 0,function*(){var t=this.newBlock(e);yield this.animator.requestSwitch(t,e),console.log("Did",this.previousBlock.dataset.type,e)})}}([{name:"Bezier Visualizer",description:"A site to visualize manipulable, animated Cubic Bezier curves.",img:"bezier-visualizer/img/thumb",link:"/bezier-visualizer",type:"site"},{name:"Radium",description:'A fresh-looking theme for VSCode. Almost radioactive.</p><p class="small">Made with a friend',img:"https://radium-theme.github.io/example",link:"https://radium-theme.github.io",type:"other"},{name:"Multidimensional Interchange",description:"Single",img:"/music/multidimensional-interchange/mi.thumb",type:"music",link:"/music/multidimensional-interchange",class:"new",metadata:{tracks:1,date:"2022.12.20",time:4}},{name:"Transport",description:"3 EPs",img:"/music/transport/imgs/collageTransport.thumb",link:"/music/transport",type:"music",metadata:{tracks:"?",date:"2022.11.29 - 2023.01.29",time:"?"}},{name:"Seaweed",description:"Single",img:"/music/seaweed/seaweed.thumb",link:"/music/seaweed",type:"music",metadata:{tracks:1,date:"2022.10.29",time:4}},{name:"Berries",description:"EP",img:"/music/berries/berries.thumb",type:"music",link:"/music/berries",metadata:{tracks:5,date:"2022.08.02",time:17}},{name:"Social Credit Quiz",description:"Inspired by the Internet meme, this quiz tests your loyalty to the CCP",link:"/social-credit",type:"site",img:"/social-credit/pop"},{name:"Wiggle Text",description:"Make a string of text that appears to be in the shape of a wiggle",link:"/wiggle",type:"site",img:"./imgs/wiggle"},{name:"TimeUtils",description:"Create Discord timestamps and get your IANA timezone",link:"/timeutils",type:"site",img:"./timeutils/thumb"}]),c=(r.load(i||"site"),s(".select-project-type")),m=n(".select-project-type-wrap .indicator");for(const g of Array.from(c)){let t={parent:null==(e=g.parentElement)?void 0:e.getBoundingClientRect(),cur:g.getBoundingClientRect()};g.addEventListener("click",function(){r.switch.apply(r,[this.getAttribute("data-type")]),l(c),this.classList.add("selected"),d(t)}),i&&null!=(e=g.getAttribute("data-type"))&&e.includes(i)&&(l(null==(e=g.parentElement)?void 0:e.children),d(t),g.classList.add("selected"))}function d(t){m.style.width=t.cur.width+"px",m.style.left=t.cur.left-t.parent.left-5+"px"}function l(t){for(const e of Array.from(t))e.classList.remove("selected")}let p;function u(i){if(!p){let t=i.target.getBoundingClientRect(),e=document.createElement("div");e.classList.add("more-music-launcher"),e.style.top=t.top+44+"px",window.onresize=()=>{t=i.target.getBoundingClientRect(),e.style.top=t.y+44+"px"};var s,n;for([s,n]of Object.entries({Spotify:"https://open.spotify.com/artist/1mxdLhD07JVKCqNvbzW3l0",Apple_Music:"https://music.apple.com/artist/pineapplerind/1606851499",YouTube_Music:"https://music.youtube.com/channel/UCHBF_eoWre9Um353fOxayww",Tidal:"https://tidal.com/browse/artist/30355280",Amazon_Music:"https://music.amazon.com/artists/B09R3S4YDW/pineapplerind",Deezer:"https://www.deezer.com/artist/158442482",Pandora:"https://www.pandora.com/artist/pineapplerind/ARgXdmk9wgPVqbX"})){var a=document.createElement("a");a.classList.add("more-music-store"),a.innerHTML=s.replace("_"," "),a.href=n,a.setAttribute("target","_blank"),e.append(a),a.onmouseup=()=>h()}p=!0,document.body.append(e)}}function h(){let t=n(".more-music-launcher");t.classList.add("hidden"),n(".more-music-link").blur(),setTimeout(function(){t.remove(),p=!1},400)}for(const[y,f]of Array.from(s(".animate-hidden")).entries())setTimeout(()=>{f.classList.remove("animate-hidden")},100*(y+1))}();