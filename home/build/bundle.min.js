!function(){"use strict";var t,i,e=function(e,r,o,c){return new(o=o||Promise)(function(i,t){function s(e){try{a(c.next(e))}catch(e){t(e)}}function n(e){try{a(c.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?i(e.value):((t=e.value)instanceof o?t:new o(function(e){e(t)})).then(s,n)}a((c=c.apply(e,r||[])).next())})};var s=window.location.hash.substring(1);const n=document.querySelector.bind(document);var a=e=>document.querySelectorAll(e);function d(e,t,i){let s=document.createElement(e);return t&&t.split(";").forEach(t=>{if(t){let e=t.split(/(?!\\)\=/gm);s.setAttribute(e[0].trim().replace("\\",""),e[1].trim().replace("\\",""))}}),s.innerHTML=i||"",s}class r{constructor(e){this.getDirection=(e,t)=>this.types.indexOf(e)<this.types.indexOf(t)?1:-1,this.container=e,this.showing="site",this.types=["site","music","other"],this.directionMap={1:"right","-1":"left"}}requestSwitch(t,i){return e(this,void 0,void 0,function*(){if(this.showing===i||!this.types.includes(i))return 1;var e=this.showing;yield this.switchToPane(n(`.projects[data-type=${e}]`),t,i)})}switchToPane(t,i,s){return e(this,void 0,void 0,function*(){var e=this.getDirection(this.showing,s);this.showing=s,n(`.projects[data-type=${t.dataset.type}]`).classList.add("going-"+this.directionMap[-e]),i.classList.add("coming-"+this.directionMap[e]),this.container.append(i),yield new Promise(e=>setTimeout(e,10)),i.classList.remove("coming-"+this.directionMap[e]),yield new Promise(e=>setTimeout(e,600)),n(`.projects[data-type=${t.dataset.type}]`).remove()})}}let o=new class{constructor(e){this.generate={project(e){var{name:t,img:i,type:s,link:n,description:a=""}=e;let r=this.generate.container(s,n),o=d("div"),c=d("h1","data-type="+s,t),l=this.generate.image(t,i),m=[d("p",null,a)];return e.metadata&&m.push(...this.generate.musicMetadata(e.metadata)),o.append(c,...m),r.append(l,o),r},container(e,t){let i=d("a","class=project project-type-"+e);return t&&(i.href=t,i.setAttribute("target","_blank")),i},image(e,t){if(!t)return"";let i=d("picture"),s=d("source",`srcset=${t}.webp;type=image/webp`),n=d("img",`alt=${e} image;src=${t}.png`);return i.append(s,n),i},musicMetadata(t){let i=[];for(const s in t){let e=d("p","class=music-sub "+s,t[s]);"time"===s?e.textContent+=" minutes":"tracks"===s&&(1===t[s]?e.textContent="single":e.textContent+=" tracks"),i.push(e)}return i}},this.projects=e,this.container=n(".projects-wrap"),this.animator=new r(this.container)}getCardsForPane(e){let t=[];for(const s of this.projects){var i;s.type===e&&(i=this.generate.project.apply(this,[s]),t.push(i))}return"music"===e&&t.push(function(){let e=document.createElement("a"),t=document.createElement("div");return t.classList.add("more-music-link-container"),e.classList.add("more-music-link"),e.onfocus=h,e.onblur=e=>{p&&(n(".more-music-launcher").contains(e.relatedTarget)||(console.log(e.currentTarget),p=!1,g()))},e.innerHTML="More music...",e.setAttribute("tabindex","0"),t.append(e),t}()),t}newBlock(e){let t=d("div","class=projects;data-type="+e);for(const i of this.getCardsForPane(e))t.append(i);return t}load(e){e=this.newBlock(e);this.previousBlock=e,this.container.append(e)}switch(t){return e(this,void 0,void 0,function*(){var e=this.newBlock(t);yield this.animator.requestSwitch(e,t),console.log("Did",this.previousBlock.dataset.type,t)})}}([{name:"Bezier Visualizer",description:"A site to visualize manipulable, animated Cubic Bezier curves.",img:"bezier-visualizer/img/thumb",link:"/bezier-visualizer",type:"site"},{name:"Radium",description:'A fresh-looking theme for VSCode. Almost radioactive.</p><p class="small">Made with a friend',img:"https://radium-theme.github.io/example",link:"https://radium-theme.github.io",type:"other"},{name:"Multidimensional Interchange",description:"Single",img:"/music/multidimensional-interchange/mi.thumb",type:"music",link:"/music/multidimensional-interchange",class:"new",metadata:{tracks:1,date:"2022.12.20",time:4}},{name:"Transport",description:"Album",img:"/music/transport/imgs/collageTransport.thumb",link:"/music/transport",type:"music",metadata:{tracks:"12",date:"2023.02.08",time:"41"}},{name:"Seaweed",description:"Single",img:"/music/seaweed/seaweed.thumb",link:"/music/seaweed",type:"music",metadata:{tracks:1,date:"2022.10.29",time:4}},{name:"Berries",description:"EP",img:"/music/berries/berries.thumb",type:"music",link:"/music/berries",metadata:{tracks:5,date:"2022.08.02",time:17}},{name:"Social Credit Quiz",description:"Inspired by the Internet meme, this quiz tests your loyalty to the CCP",link:"/social-credit",type:"site",img:"/social-credit/pop"},{name:"Wiggle Text",description:"Make a string of text that appears to be in the shape of a wiggle",link:"/wiggle",type:"site",img:"./imgs/wiggle"},{name:"TimeUtils",description:"Create Discord timestamps and get your IANA timezone",link:"/timeutils",type:"site",img:"./timeutils/thumb"}]);o.load(s||"site");let c=a(".select-project-type"),l=n(".select-project-type-wrap .indicator");for(const y of Array.from(c)){let e={parent:null===(i=y.parentElement)||void 0===i?void 0:i.getBoundingClientRect(),cur:y.getBoundingClientRect()};y.addEventListener("click",function(){o.switch.apply(o,[this.getAttribute("data-type")]),u(c),this.classList.add("selected"),m(e)}),s&&null!==(t=y.getAttribute("data-type"))&&void 0!==t&&t.includes(s)&&(u(null===(i=y.parentElement)||void 0===i?void 0:i.children),m(e),y.classList.add("selected"))}function m(e){l.style.width=e.cur.width+"px",l.style.left=e.cur.left-e.parent.left-5+"px"}function u(e){for(const t of Array.from(e))t.classList.remove("selected")}let p;function h(i){if(!p){let e=i.target.getBoundingClientRect(),t=document.createElement("div");t.classList.add("more-music-launcher"),t.style.top=e.top+44+"px",window.onresize=()=>{e=i.target.getBoundingClientRect(),t.style.top=e.y+44+"px"};var s,n;for([s,n]of Object.entries({Spotify:"https://open.spotify.com/artist/1mxdLhD07JVKCqNvbzW3l0",Apple_Music:"https://music.apple.com/artist/pineapplerind/1606851499",YouTube_Music:"https://music.youtube.com/channel/UCHBF_eoWre9Um353fOxayww",Tidal:"https://tidal.com/browse/artist/30355280",Amazon_Music:"https://music.amazon.com/artists/B09R3S4YDW/pineapplerind",Deezer:"https://www.deezer.com/artist/158442482",Pandora:"https://www.pandora.com/artist/pineapplerind/ARgXdmk9wgPVqbX"})){let e=document.createElement("a");e.classList.add("more-music-store"),e.innerHTML=s.replace("_"," "),e.href=n,e.setAttribute("target","_blank"),t.append(e),e.onmouseup=()=>g()}p=!0,document.body.append(t)}}function g(){let e=n(".more-music-launcher");e.classList.add("hidden"),n(".more-music-link").blur(),setTimeout(function(){e.remove(),p=!1},400)}for(const[f,w]of Array.from(a(".animate-hidden")).entries())setTimeout(()=>{w.classList.remove("animate-hidden")},100*(f+1))}();