window.Blizzard=function(){"use strict";class t{constructor(t){this.random=Math.random(),this.startX=Math.floor(Math.random()*window.innerWidth),this.respawn=t.respawn||2,this.fallSpeed=(t.fallSpeed||.5)+Math.random(),this.movement=(t.movement||20)+40*this.random,this.pos={x:null,y:-this.random*(window.innerHeight*this.respawn),z:Math.round(10*Math.random())}}update(t){this.pos.y+=this.fallSpeed;let s=Math.sin(t/(30+30*this.random+300*this.random));this.pos.x=this.startX+s*this.movement,this.pos.y>window.innerHeight*this.respawn&&(this.pos.y=-this.random*(window.innerHeight*this.respawn))}}return class s{constructor(s,i){i.respawn??=i.fStop??=i.size??=1,this.renderer=new class t{constructor(t,s){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.options=s}render(t,s){for(let i of(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),t))i.update(s),i.pos.y<-10||i.pos.y>window.innerHeight+10||this.circle(i.pos.x,i.pos.y,i.pos.z/3*this.options.size+1,`hsla(0, 20%, 100%, ${i.pos.z/10}`,Math.abs((i.pos.z-this.options.focus)*(1-(this.options.fStop||.5))).toFixed(1))}circle(t,s,i,e,n){this.ctx.filter=n>1?`blur(${n}px)`:"",this.ctx.beginPath(),this.ctx.fillStyle=e,this.ctx.arc(t,s,i,0,2*Math.PI),this.ctx.fill(),this.ctx.filter=""}}(s,i),this.snowflakes=[];for(let e=0;e<i.amount*i.respawn;e++)this.snowflakes.push(new t(i));return this.tick=0,this.playing=!1,this}play(){return this.playing=!0,this.frame(),this}pause(){return this.playing=!1,this}frame(){this.playing&&(this.tick++,this.renderer.render(this.snowflakes,this.tick),window.requestAnimationFrame(this.frame.bind(this)))}}}();