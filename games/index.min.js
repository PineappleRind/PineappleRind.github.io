function S(e, t) {
    document.cookie = e + "=" + t + ",expires=864000;"
}

function G(e) {
    for (var t = e + "=", n = decodeURIComponent(document.cookie).split(";"), o = 0; o < n.length; o++) {
        for (var l = n[o];
            " " == l.charAt(0);) l = l.substring(1);
        if (0 == l.indexOf(t)) return l.substring(t.length, l.length)
    }
    return ""
}
let b = document.getElementById("close"),
    modal = document.querySelector(".modal-bg");
b.addEventListener("click", function() {
    S("tutorial", "true"), clL(modal)
}), "true,expires=864000" === G("tutorial") && (modal.style.display = "none"), window.onload = function() {
    let e = document.getElementsByClassName("ripple-button");
    for (var t = 0; t < e.length; t++) e[t].onclick = function(e) {
        let t = e.pageX - this.offsetLeft,
            n = e.pageY - this.offsetTop,
            o = document.createElement("div");
        o.classList.add("ripple"), o.setAttribute("style", "top:" + n + "px; left:" + t + "px;");
        let l = this.getAttribute("ripple-color");
        l && (o.style.background = l), this.appendChild(o), setTimeout(function() {
            o.parentElement.removeChild(o)
        }, 900)
    }
};
let op = document.getElementById("settings"),
    md = document.querySelector(".settings-modal-bg"),
    cl = document.getElementById("closeSettings");

function clL(e) {
    e.style.opacity = "0", setTimeout(function() {
        e.style.display = "none"
    }, 500)
}

function opP(e) {
    e.style.display = "flex", setTimeout(function() {
        e.style.opacity = "1"
    }, 10)
}
op.addEventListener("click", function() {
    opP(md)
}), cl.addEventListener("click", function() {
    clL(md)
});
let button = document.querySelector(".ripple-button"),
    i = 0,
    counter = document.getElementById("counter"),
    j = 0,
    counterCPU = document.getElementById("counterCPU");

function updateCounters() {
    "major" === probabillity() ? (i += getRandomInt(20), counter.innerHTML = i, j += getRandomInt(10), counterCPU.innerHTML = j) : "regular" === probabillity() ? (i += getRandomInt(15), counter.innerHTML = i, j += getRandomInt(10), counterCPU.innerHTML = j) : (i += getRandomInt(10), counter.innerHTML = i, j += getRandomInt(10), counterCPU.innerHTML = j)
}
button.addEventListener("click", () => {
    updateCounters(), checkForWinner(), goalFunction()
});
let yourScore = document.getElementById("yourScore"),
    cpuScore = document.getElementById("cpuScore"),
    winnerText = document.getElementById("winnertext");
winnerText.style.display = "none";
let goal = 500;

function checkForWinner() {
    if (i >= j ? (cpuScore.style.color = "red", yourScore.style.transform = "scale(1.1)", cpuScore.style.transform = "scale(1)", yourScore.style.color = "green", winnerText.innerHTML = "You win!") : j > i && (cpuScore.style.color = "green", yourScore.style.color = "red", cpuScore.style.transform = "scale(1.1)", yourScore.style.transform = "scale(1)", winnerText.innerHTML = "Cpu wins!"), i > goal || j > goal) return button.style.pointerEvents = "none", winnerText.style.display = "block", winnerText.style.animationName = "bounce", !1
}

function goalFunction() {
    let e = document.getElementById("goal");
    goal = parseInt(e.value), setTimeout(function() {
        document.getElementById("number").innerHTML = goal
    }, 10)
}
let autoBox = document.getElementById("auto");

function getRandomInt(e) {
    return Math.floor(Math.random() * e + 1)
}

function probabillity() {
    let e = document.getElementById("slightProb");
    return !0 === document.getElementById("majorProb").checked ? "major" : !0 === e.checked ? "slight" : "regular"
}
oninput = (() => {
    goalFunction(), probabillity()
});
